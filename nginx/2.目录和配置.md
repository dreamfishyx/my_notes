##### 目录结构

1. 使用 `tree /usr/local/nginx` 查看一下项目的文件结构,其对应功能解释如下:

   ```bash
   /usr/local/nginx 
   ├── conf  # 配置文件目录
   │   │	  # 第一大类: cgi 相关配置
   │   ├── fastcgi.conf              # fastcgi 配置文件
   │   ├── fastcgi.conf.default      # fastcgi.conf 的备份文件
   │   ├── fastcgi_params            # fastcgi 参数配置文件
   │   ├── fastcgi_params.default    # fastcgi_params 的备份文件
   │   ├── scgi_params               # scgi 参数配置文件
   │   ├── scgi_params.default       # scgi_params 的备份文件
   │   ├── uwsgi_params              # uwsgi 参数配置文件
   │   ├── uwsgi_params.default      # uwsgi_params 的备份文件
   │   │	  # 第二大类: 编码转换相关配置
   │   ├── koi-utf                   # koi8 编码的 UTF-8 转换配置
   │   ├── koi-win                   # koi8 编码的 Windows 编码转换配置
   │   ├── win-utf                   # windows 编码的 UTF-8 转换配置
   │   │     # 第三大类: 核心配置文件
   │   ├── mime.types                # mime 类型配置文件
   │   ├── mime.types.default        # mime.types 的备份文件
   │   ├── nginx.conf                # nginx 主配置文件
   │   └── nginx.conf.default        # nginx.conf 的备份文件
   ├── html  # 默认站点的静态文件目录
   │   ├── 50x.html                  # 500 错误页面
   │   └── index.html                # 默认首页
   ├── logs  # 日志文件目录
   │   ├── access.log                # 访问日志文件
   │   ├── error.log                 # 错误日志文件
   │   └── nginx.pid                 # nginx 进程 id 文件
   └── sbin  # nginx 可执行文件目录
       └── nginx                     # nginx 可执行文件
   ```

2. 实际上使用上述命令看到的文件树并不是上述所示，在 nginx 运行后还会产生一些 `*_temp`临时目录存放临时文件。

   ```bash
   client_body_temp 	fastcgi_temp 	proxy_temp 	scgi_temp 		uwsgi_temp
   ```





##### nginx.conf

1. nginx.conf 是 nginx 的一个核心配置文件，为方便研究，我们暂且去掉其中注释，研究其最小配置版本。

   ```bash
   worker_processes  1;
   
   pid        logs/nginx.pid;
   
   events {
       worker_connections  1024;
   }
   
   http {
       include       mime.types;
       default_type  application/octet-stream;
   
       sendfile        on;
       
       keepalive_timeout  65;
   
       server {
           listen       80;
           server_name  localhost;
   
           location / {
               root   html;
               index  index.html index.htm;
           }
   
           error_page   500 502 503 504  /50x.html;
           location = /50x.html {
               root   html;
           }
       }
   
   }
   ```

   

2. 对于 nginx.conf，存在一个默认的备份文件，即 nginx.conf.default 。

